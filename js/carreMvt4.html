<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>JS : Mes travaux en Technologies Web - Blandine Guillemot </title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script>
      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      async function canvasInit(posY, retard, ctx){
        var x = 0;
        ctx.fillRect(x, posY, 50, 50);

        retard = retard*1000;
        await sleep(retard);
        var delay = 100;
        var intervalID = setInterval(() => {
        if ( x < 150)
        {
          ctx.clearRect(x, posY, 50, 50);
          x = ++x;
          ctx.fillRect(x, posY, 50, 50);
        }
        else
        {
          clearInterval(this);
        }
        }, delay);
      }

      function init(){
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle = "#FF0000";
        var pos = 0;
        var delay = 4;
        for (var i = 1; i <= 10; i++) {
          canvasInit(pos, delay, ctx);
          pos = pos + 50;
          delay = delay + 1;
        }
      }
      window.addEventListener('load', init)
    </script>
  </head>

  <body>
    <header>
      <h1>JS</h1>
    </header>

    <nav>
      <ul>
        <li><a href="../index.html">Accueil</a></li>
        <li><a href="../page_html.html">HTML</a></li>
        <li><a href="../page_js.html">JS</a></li>
        <li><a href="../page_php.html">PHP</a></li>
        <li><a href="../page_vue.html">Vue</a></li>
      </ul>
     </nav>

     <main>
      <article>
        <h2>Exercice 5 : Dix carrés dormant</h2>
        <p>Produisez une page html présentant 10 carrés rouges se déplaçant du bord gauche du canevas vers le bord droit à raison de 10 pixels par dixième de seconde. Les départs des carrés seront espacés de 1 seconde, 4 secondes après la fin du chargement de la page. Organisez le code pour avoir le moins de répétition de code possible.</p>
        <canvas id="myCanvas" width="200" height="500" style="border:1px solid #c3c3c3;"></canvas>
      </article>

      <aside>
        <h2>En relation</h2>
        <ul>
          <li><a href="../page_js.html">JS - principale</a></li>
          <li><a href="./compteur.html">Exo 1 - Compteur</a></li>
          <li><a href="./carreMvt.html">Exo 2 - Carré en mouvement</a></li>
          <li><a href="./carreMvt2.html">Exo 3 - Carré dormant</a></li>
          <li><a href="./carreMvt3.html">Exo 4 - Carré triple dormant</a></li>
        </ul>
      </aside>

    </main>

    <footer>
      <p>©Copyright Blandine Guillemot</p>    
    </footer>

  </body>
</html>